{% extends 'template.html' %} {% block title %}Register{% endblock %} {% block
content %}
<div class="login-container">
  <div class="login-background"></div>
  <div class="form-center-wrapper">
    <div class="card shadow-lg border-0 register-card-fix">
      <div class="card-header bg-transparent border-0 text-center pt-3">
        <h4 class="text-gradient text-primary mb-1">Register</h4>
      </div>
      <div class="card-body">
        <!-- All content in one container: requirements, messages, form -->
        <div class="mb-3">
          <!-- Registration Requirements -->
          <div
            style="
              background: #1a237e;
              color: #fff;
              border-radius: 0.5rem;
              border: 2px solid #3949ab;
              padding: 0.6rem 0.8rem;
              font-size: 0.92rem;
              margin-bottom: 1rem;
            "
          >
            <div class="d-flex align-items-center mb-2">
              <i
                class="fa fa-info-circle me-2"
                style="font-size: 1.1rem; color: #fff"
              ></i>
              <strong style="font-size: 1rem"
                >Registration Requirements:</strong
              >
            </div>
            <ul class="mb-0 ps-4" style="color: #fff; font-size: 0.92rem">
              <li>
                <strong>Username:</strong> 3-20 characters, start with a letter,
                only letters, numbers, and underscores.
              </li>
              <li><strong>Email:</strong> Must be a valid email address.</li>
              <li>
                <strong>Password:</strong> At least 8 characters, one uppercase,
                one lowercase, one number, one special character.
              </li>
            </ul>
          </div>
          <!-- Flash Messages -->
          {% with messages = get_flashed_messages(with_categories=true) %} {% if
          messages %} {% for category, message in messages %}
          <div
            class="alert alert-{{ 'danger' if category == 'error' else 'success' }} alert-dismissible fade show"
            role="alert"
            style="background: #fff; color: {{ '#b71c1c' if category == 'error' else '#1b5e20' }}; border: 2px solid {{ '#b71c1c' if category == 'error' else '#1b5e20' }}; font-weight: 600; border-radius: 0.5rem; padding: 0.75rem 1rem; margin-bottom: 1rem;"
          >
            {{ message }}
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
              aria-label="Close"
            ></button>
          </div>
          {% endfor %} {% endif %} {% endwith %}
          <!-- Registration Form -->
          <form method="POST" action="{{ url_for('register') }}">
            <div class="row g-3">
              <div class="col-md-6">
                <div class="mb-1">
                  <label for="first_name" class="form-label">First Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="first_name"
                    name="first_name"
                    required
                    value="{{ request.form.first_name or '' }}"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-1">
                  <label for="last_name" class="form-label">Last Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="last_name"
                    name="last_name"
                    required
                    value="{{ request.form.last_name or '' }}"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-1">
                  <label for="username" class="form-label">Username</label>
                  <input
                    type="text"
                    class="form-control"
                    id="username"
                    name="username"
                    required
                    value="{{ request.form.username or '' }}"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-1">
                  <label for="email" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    required
                    value="{{ request.form.email or '' }}"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-1">
                  <label for="password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    required
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label for="confirm_password" class="form-label"
                    >Confirm Password</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="confirm_password"
                    name="confirm_password"
                    required
                  />
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary w-100">
              Register
            </button>
          </form>
        </div>
        <div class="text-center mt-1">
          <a href="{{ url_for('login') }}">Already have an account? Login</a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .login-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }

  .form-center-wrapper {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 0;
  }

  .register-card-fix {
    max-width: 420px;
    width: 100%;
    margin: 0 auto;
  }

  .login-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url("{{ url_for('static', filename='assets/img/bg-pattern.jpg') }}")
      center/cover no-repeat;
    filter: blur(8px);
    transform: scale(1.1);
    z-index: -1;
  }

  .login-background::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
  }

  .card {
    border-radius: 1rem;
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.9);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    max-height: 90vh;
  }

  /* Style for general text within the card body and footer */
  .card-body label,
  .card-body p,
  .card-body small,
  .card-footer small {
    color: #000;
  }

  /* Style for text-muted class */
  .text-muted {
    color: #000 !important; /* Use !important to override Bootstrap's default */
  }

  .input-group-text {
    background-color: transparent;
    border-right: none;
    padding: 0.375rem 0.75rem;
    color: #000; /* Ensure input group text is black */
  }

  .form-control {
    border-left: none;
    padding: 0.375rem 0.75rem;
    color: #000; /* Ensure input text is black */
  }

  .form-control::placeholder {
    color: #555; /* Slightly lighter black for placeholder */
    opacity: 1; /* Ensure placeholder is visible */
  }

  .form-control:-ms-input-placeholder {
    color: #555;
  }

  .form-control::-ms-input-placeholder {
    color: #555;
  }

  .form-control:focus {
    box-shadow: none;
    border-color: #ced4da;
  }

  .input-group:focus-within {
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    border-radius: 0.5rem;
  }

  .btn-primary {
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: linear-gradient(45deg, #007bff, #6610f2);
    border: none;
    transition: transform 0.2s ease;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
  }

  .text-gradient {
    background: linear-gradient(45deg, #007bff, #6610f2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .alert {
    border-radius: 0.5rem;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  @media (max-width: 768px) {
    .register-card-fix {
      max-width: 98vw;
      margin: 1rem;
    }
    .form-center-wrapper {
      padding: 1rem 0;
    }
  }
</style>
{% endblock %}
